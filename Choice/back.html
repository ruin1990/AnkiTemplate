<div id = "score_board"><span id="sc_detail">[计分板]</span><span><input id="is_random" type="checkbox" onclick="set_rnd()"/><label for="is_random"/>R</label></span></div>
<div id = "que_type">[题型]</div>
<div id = "que_area">{{cloze:Question}}</div>
{{#Options}}
<div id = "opt_area" style = "display:none">{{Options}}</div>
<div id = "ans_area" style = "display:none">{{Answer}}</div>
<ol id = "opt_list" class = "options"></ol>
{{/Options}}
{{#Remark}}
<hr>
<div class="remark">{{Remark}}</div>
{{/Remark}}

<script type="text/javascript">

	$(document).ready(function(){
		try{
			//print_log("back before:" + JSON.stringify(subject));
			// 显示题目
			show_question();
			// 更新选项
			update_options();
			// 更新计分板
			update_score();
			//print_log("back after:" + JSON.stringify(subject));
		} catch(err) {
			print_log(err);
		}finally {
			// 清除题目信息
			clear_subject();
			//print_log("clear after:" + JSON.stringify(subject));
		}
	});

	// 移动端back窗口跳转时缓存数据
	$(window).unload(function(){
		if(Persistence.isAvailable()){
			// print_log("save subject: " + JSON.stringify(subject));
			Persistence.setItem("subject", subject);
		}
	});

</script>
